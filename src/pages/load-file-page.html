<div class="close"><i class="fi-close"></i></div>
<div data-page="loading">
  <h1 data-help="intro_loadStat">Cartes statistiques</h1>
  <p>
    Une carte statistique permet de représenter de qualifier les objets et les phénomènes
    disposés dans l'espace à partir de fichiers de données décrivant les caractéristiques des objets.
  </p>

  <h2>
    Charger des données
  </h2>
  <div data-role="load-data">
    <div class="upload">
      <input type="file" accept=".csv,.xls,.xlsx,.ods,.json,.geojson" id="upload-file">
      <label for="upload-file">
        Glissez votre fichier dans la fenêtre ou cliquez pour le choisir.
        <i>
          Formats acceptés: texte tabulé (CSV, TXT, ...),
          tableur (XLS, XLSX, ODS),
          ou GeoJSON.
        </i>
        <br/>
        <i>
          Attention : l'import de fichier volumineux et/ou complexe peut échouer 
          ou provoquer des ralentissements de navigateur.
        </i>
      </label>
    </div>
    <div class="distant">
      <div class="separator">ou</div>
      <p data-help="distant_file">Utilisez un fichier distant (format geojson).</p>
      <input type="url" placeholder="url du fichier (geojson)" /><button class="button button-ghost" data-action="send-url">
        Charger
      </button>
    </div>
  </div>
  <div class="examples">
    <h2>
      Ou choisir un fichier d'exemple
    </h2>
    <select data-example>
      <option value="" style="font-style:italic; color:#999">Sélectionnez</option>
    </select>
  </div>
</div>

<div data-page="params" class="hide">
  <h2>Paramètres du fichier</h2>

  <ul class="accordion">
    <li>
      <input type="radio" name="accordion-1">
      <label onclick="accordionCheck(this)">Séparateur</label>
      <div>
        <label class='ol-ext-check ol-ext-radio'>
          <input type='radio' name='delimiter' value='' checked data-param='delimiter' /><span></span> Auto
        </label>
        <label class='ol-ext-check ol-ext-radio'>
          <input type='radio' name='delimiter' value='\t' data-param='delimiter' /><span></span> Tabulation
        </label>
        <label class='ol-ext-check ol-ext-radio'>
          <input type='radio' name='delimiter' value=',' data-param='delimiter' /><span></span> Virgule
        </label>
        <label class='ol-ext-check ol-ext-radio'>
          <input type='radio' name='delimiter' value=';' data-param='delimiter' /><span></span> Point-virgule
        </label>
        <label class='ol-ext-check ol-ext-radio'>
          <input type='radio' name='delimiter' data-enable="delimiter" /><span></span> autre
        </label>
        <input type='text' id='other_input' size=5 disabled data-param='delimiter' />
      </div>
    </li>
    <li>
      <input type="radio" name="accordion-2">
      <label onclick="accordionCheck(this)">Contenu</label>
      <div>
        <p>
          Ignorer les <input type="number" size="5" min="0" value="0" data-param="skipLines" /> premières lignes
        </p>
        <label class='ol-ext-check ol-ext-checkbox'>
          <input type='checkbox' checked data-param='header' /><span></span> Mon fichier possède une première ligne de
          titre
        </label>
        <br />
        <label class='ol-ext-check ol-ext-checkbox'>
          <input type='checkbox' value="comments" data-enable='comments' /><span></span> Ignorer les lignes dont la
          première colonne commence par :
        </label>
        <input type='text' disabled size=5 data-param='comments' />
      </div>
    </li>
    <li class="maillage">
      <input type="radio" name="accordion-3">
      <label onclick="accordionCheck(this)" data-help="intro_maillage">Maillage</label>
      <div>
        <div class="loadGranularity">
          <a class="upload article button"><i class="fi-share"></i> importer un maillage</a>
          <a class="download article button"><i class="fi-download"></i> enregistrer le maillage</a>
        </div>
        <label>Données définies sur :</label>
        <select data-param="granularity"></select>
        <p class="warning">Attention, votre fichier contient un grand nombre de lignes, 
          utilisez plutôt la version allégée du maillage pour une meilleure fluidité de la carte.
        </p>
        <div class="lonlat">
          <label>longitude : </label><select data-param="attr-lon"></select>
          <br />
          <label>latitude : </label><select data-param="attr-lat"></select>
        </div>
        <div class="id">
          <label>
            <span></span> (attribut identifiant le maillage)
          </label>
          <select data-param="attr-id"></select>
        </div>
      </div>
    </li>
  </ul>

  <h2>Extrait du fichier chargé</h2>
  <div data-preview=""></div>

  <div class="buttons">
    <button class="button button-colored" data-action="send">Envoyer</button>
    <button class="button button-ghost" data-action="cancel">Annuler</button>
  </div>
</div>